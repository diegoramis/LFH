<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Merchandising Oficial | Liceo Franco Hondure√±o</title>
  <meta name="description" content="Merchandising oficial del Liceo Franco Hondure√±o: gorras, camisas, camperas, termos, tazas y m√°s." />

  <style>
    :root{
      --bg:#0b1220;
      --card:#0f1a33;
      --muted:#9fb0d0;
      --text:#eaf0ff;
      --line:rgba(255,255,255,.10);
      --accent:#2f6bff;
      --accent2:#ff3b3b;
      --shadow: 0 16px 40px rgba(0,0,0,.35);
      --r: 18px;
      --max: 1150px;
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:var(--font); color:var(--text);
      background:
        radial-gradient(900px 500px at 15% 0%, rgba(47,107,255,.25), transparent 60%),
        radial-gradient(900px 500px at 85% 10%, rgba(255,59,59,.18), transparent 60%),
        linear-gradient(180deg, #070b14, var(--bg));
    }
    a{color:inherit; text-decoration:none}
    .container{max-width:var(--max); margin:0 auto; padding:0 16px}

    header{
      position:sticky; top:0; z-index:50;
      background:rgba(7,11,20,.68);
      backdrop-filter: blur(14px);
      border-bottom:1px solid var(--line);
    }
    .nav{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; padding:12px 0;
    }
    .brand{display:flex; align-items:center; gap:12px; min-width:220px}
    .logo{
      width:44px; height:44px; border-radius:14px;
      background: linear-gradient(135deg, rgba(47,107,255,.9), rgba(255,59,59,.85));
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .logo img{width:100%; height:100%; object-fit:cover}
    .brand .t1{font-weight:850}
    .brand .t2{font-size:12px; color:var(--muted)}
    .navlinks{display:flex; gap:10px; flex-wrap:wrap; justify-content:center}
    .navlinks a{
      color:var(--muted); font-weight:700; font-size:14px;
      padding:10px 10px; border-radius:999px;
    }
    .navlinks a:hover{color:var(--text); background:rgba(255,255,255,.06)}

    .btn{
      display:inline-flex; align-items:center; gap:10px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.06);
      color:var(--text);
      padding:12px 16px; border-radius:999px;
      cursor:pointer; font-weight:750;
      transition:.2s transform, .2s background, .2s border;
      box-shadow: 0 10px 24px rgba(0,0,0,.25);
      white-space:nowrap;
    }
    .btn:hover{transform:translateY(-1px); background:rgba(255,255,255,.10); border-color:rgba(255,255,255,.18)}
    .btn.primary{
      background: linear-gradient(90deg, rgba(47,107,255,.95), rgba(255,59,59,.85));
      border-color:transparent;
    }
    .btn.primary:hover{background: linear-gradient(90deg, rgba(47,107,255,1), rgba(255,59,59,1))}
    .btn.sm{padding:10px 12px; font-size:13px}
    .btn.icon{padding:10px 12px}
    .navcta{display:flex; gap:10px; min-width:220px; justify-content:flex-end}

    /* Hero */
    .hero{padding:34px 0 14px}
    .hero-grid{
      display:grid; gap:14px;
      grid-template-columns: 1.15fr .85fr;
      align-items:stretch;
    }
    .card{
      border:1px solid var(--line);
      background:rgba(255,255,255,.04);
      border-radius: var(--r);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .hero-main{padding:22px}
    h1{margin:0 0 10px; font-size:42px; line-height:1.06; letter-spacing:-.6px}
    .sub{margin:0 0 14px; color:var(--muted); line-height:1.55}
    .pills{display:flex; gap:10px; flex-wrap:wrap; margin:14px 0 0}
    .pill{
      border:1px solid var(--line);
      background:rgba(255,255,255,.05);
      color:var(--muted);
      padding:8px 12px; border-radius:999px;
      font-size:13px; font-weight:700;
    }
    .hero-actions{display:flex; gap:10px; flex-wrap:wrap; margin-top:14px}

    .mock{
      height:100%;
      min-height:260px;
      background:
        radial-gradient(600px 300px at 10% 0%, rgba(47,107,255,.35), transparent 60%),
        radial-gradient(600px 300px at 90% 10%, rgba(255,59,59,.25), transparent 60%),
        linear-gradient(180deg, rgba(15,26,51,.55), rgba(15,26,51,.25));
      border-radius: var(--r);
      border:1px solid var(--line);
      overflow:hidden;
    }
    .mock img{width:100%; height:100%; object-fit:cover; opacity:.95}

    /* Sections */
    section{padding:22px 0}
    .section-head{
      display:flex; gap:12px; flex-wrap:wrap;
      align-items:flex-end; justify-content:space-between;
      margin-bottom:12px;
    }
    .section-head h2{margin:0; font-size:22px}
    .section-head p{margin:0; color:var(--muted); max-width:720px}

    /* Controls */
    .controls{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center;
      padding:12px;
      border-radius: var(--r);
      border:1px solid var(--line);
      background:rgba(255,255,255,.04);
    }
    .input, select{
      border:1px solid var(--line);
      background:rgba(7,11,20,.45);
      color:var(--text);
      padding:12px 12px;
      border-radius: 12px;
      outline:none;
      min-width: 210px;
      flex: 1 1 220px;
    }
    .chips{display:flex; gap:8px; flex-wrap:wrap}
    .chip{
      border:1px solid var(--line);
      background:rgba(255,255,255,.05);
      color:var(--muted);
      padding:10px 12px;
      border-radius:999px;
      cursor:pointer;
      font-weight:750;
      font-size:13px;
      user-select:none;
      transition:.15s;
    }
    .chip.active{
      color:var(--text);
      background:rgba(47,107,255,.20);
      border-color: rgba(47,107,255,.45);
    }

    /* Grid cards */
    .grid{
      margin-top:12px;
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap:14px;
    }
    .p{
      grid-column: span 4;
      border:1px solid var(--line);
      background:rgba(255,255,255,.04);
      border-radius: var(--r);
      overflow:hidden;
      box-shadow: 0 12px 28px rgba(0,0,0,.28);
      display:flex; flex-direction:column;
      min-height: 360px;
    }
    .p .img{height: 180px; background:rgba(255,255,255,.06); position:relative; overflow:hidden}
    .p .img img{width:90%; height:90%; object-fit:cover}
    .tag{
      position:absolute; top:12px; left:12px;
      font-size:12px; font-weight:900;
      padding:8px 10px; border-radius:999px;
      background:rgba(7,11,20,.72);
      border:1px solid var(--line);
    }
    .p .body{padding:14px; display:flex; flex-direction:column; gap:8px; flex:1}
    .title{font-weight:900}
    .desc{color:var(--muted); font-size:14px; line-height:1.45}
    .row{display:flex; align-items:center; justify-content:space-between; gap:10px; margin-top:auto}
    .price{font-weight:900}
    .mini{color:var(--muted); font-size:12px}

    /* Qty control */
    .qty{
      display:flex; align-items:center; gap:8px;
      border:1px solid var(--line);
      border-radius:999px;
      padding:6px 8px;
      background:rgba(7,11,20,.35);
    }
    .qty button{
      width:34px; height:34px;
      border-radius:999px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.06);
      color:var(--text);
      cursor:pointer;
      font-weight:900;
    }
    .qty span{min-width:18px; text-align:center; font-weight:900}

    /* Quote bar */
    .quote-bar{
      position:sticky;
      bottom:0;
      z-index:40;
      padding:12px 0;
      background: linear-gradient(180deg, rgba(7,11,20,.0), rgba(7,11,20,.72) 25%, rgba(7,11,20,.92));
      border-top:1px solid var(--line);
      backdrop-filter: blur(12px);
    }
    .quote-inner{
      display:flex; gap:10px; flex-wrap:wrap;
      align-items:center; justify-content:space-between;
    }
    .quote-summary{
      display:flex; flex-direction:column; gap:2px;
      color:var(--muted);
    }
    .quote-summary strong{color:var(--text)}
    .quote-actions{display:flex; gap:10px; flex-wrap:wrap}

    /* Modal */
    .backdrop{
      position:fixed; inset:0; z-index:80;
      background:rgba(0,0,0,.55);
      display:none; align-items:center; justify-content:center;
      padding:16px;
    }
    .modal{
      width:min(920px, 100%);
      border:1px solid var(--line);
      background: rgba(11,18,32,.92);
      backdrop-filter: blur(16px);
      border-radius: 22px;
      overflow:hidden;
      box-shadow: 0 22px 60px rgba(0,0,0,.6);
      display:grid;
      grid-template-columns: 1fr 1fr;
      position:relative;
    }
    .x{
      position:absolute; right:12px; top:12px;
      width:42px; height:42px;
      border-radius:14px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.06);
      color:var(--text);
      cursor:pointer;
      font-weight:900;
      display:grid; place-items:center;
    }
    .mimg{min-height:320px; background:rgba(255,255,255,.05)}
    .mimg img{width:100%; height:100%; object-fit:cover}
    .mcontent{padding:18px}
    .mcontent h3{margin:0 0 6px}
    .mcontent p{margin:0 0 12px; color:var(--muted); line-height:1.55}
    .mbar{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px}

    footer{
      border-top:1px solid var(--line);
      padding:22px 0 92px;
      color:var(--muted);
    }
    .footer-grid{display:grid; gap:14px; grid-template-columns: 1.2fr .8fr; align-items:start}
    .footlinks{display:flex; gap:12px; flex-wrap:wrap; justify-content:flex-end}
    .footlinks a{color:var(--muted); font-weight:750}
    .footlinks a:hover{color:var(--text)}

    /* Responsive breakpoints */
    @media (max-width: 980px){
      .hero-grid{grid-template-columns:1fr}
      .p{grid-column: span 6}
      .modal{grid-template-columns:1fr}
      .navcta{min-width:auto}
      .brand{min-width:auto}
    }
    @media (max-width: 640px){
      h1{font-size:34px}
      .p{grid-column: span 12}
      .footer-grid{grid-template-columns:1fr}
      .footlinks{justify-content:flex-start}
      .navlinks{display:none} /* en m√≥vil se simplifica el header */
    }
  </style>
</head>

<body>
<header>
  <div class="container">
    <div class="nav">
      <div class="brand">
        <div class="logo" title="LFH">
          <img src="Logo.jpeg" alt="Logo LFH">
        </div>
        <div>
          <div class="t1">Merchandising Oficial 60 ans LFH</div>
          <div class="t2">Liceo Franco Hondure√±o</div>
        </div>
      </div>

      <nav class="navlinks">
        <a href="#catalogo">Cat√°logo</a>
        <a href="#faq">Preguntas</a>
        <a href="#contacto">Contacto</a>
      </nav>

      <div class="navcta">
        <a class="btn" href="#catalogo">Ver productos</a>
        <button class="btn primary" id="btnCotizarTop">Cotizar</button>
      </div>
    </div>
  </div>
</header>

<main>
  <div class="container hero">
    <div class="hero-grid">
      <div class="card hero-main">
        <h1>Merchandising oficial 60ans del <span style="color:var(--accent)">LFH</span> üíôü§ç‚ù§Ô∏è</h1>
        <p class="sub">
          Gorras, camisas, camperas, bol√≠grafos, amansa locos, termos, tazas y m√°s.
          Arma tu lista y presiona <b>Cotizar</b> para enviar WhatsApp con cantidades.
        </p>
        <div class="pills">
          <span class="pill">üéì Oficial</span>
          <span class="pill">‚ú® Personalizable</span>
          <span class="pill">üì¶ Entrega coordinada</span>
        </div>
        <div class="hero-actions">
          <a class="btn primary" href="#catalogo">Explorar cat√°logo</a>
          <button class="btn" id="btnCotizarHero">Cotizar ahora</button>
        </div>
      </div>

      <div class="mock">
        <img src="mercaderias.png" alt="Merchandising LFH">
      </div>
    </div>
  </div>

  <section id="catalogo">
    <div class="container">
      <div class="section-head">
        <div>
          <h2>Cat√°logo</h2>
          <p>Busca, filtra y agrega cantidades. Luego presiona <b>Cotizar</b>.</p>
        </div>
      </div>

      <div class="controls">
        <input class="input" id="search" placeholder="Buscar: gorra, termo, taza..." />
        <select id="sort" aria-label="Ordenar">
          <option value="recomendado">Orden: Recomendado</option>
          <option value="precio_asc">Precio: menor a mayor</option>
          <option value="precio_desc">Precio: mayor a menor</option>
        </select>

        <div class="chips" aria-label="Categor√≠as">
          <span class="chip active" data-cat="todos">Todos</span>
          <span class="chip" data-cat="ropa">Ropa</span>
          <span class="chip" data-cat="accesorios">Accesorios</span>
          <span class="chip" data-cat="bebidas">Bebidas</span>
          <span class="chip" data-cat="oficina">Oficina</span>
        </div>
      </div>

      <div class="grid" id="grid"></div>
    </div>
  </section>

  <section id="faq">
    <div class="container">
      <div class="section-head">
        <div>
          <h2>Preguntas frecuentes</h2>
          <p>Para pedidos r√°pidos por WhatsApp.</p>
        </div>
      </div>

      <div class="grid">
        <div class="card" style="grid-column:span 6; padding:16px">
          <b>¬øC√≥mo cotizo?</b>
          <div class="mini" style="margin-top:8px; line-height:1.6">
            1) Sube cantidades en los productos<br>
            2) Presiona <b>Cotizar</b> (arriba o abajo)<br>
            3) Se abrir√° WhatsApp con tu lista + cantidades
          </div>
        </div>
        <div class="card" style="grid-column:span 6; padding:16px">
          <b>¬øPersonalizaci√≥n?</b>
          <div class="mini" style="margin-top:8px; line-height:1.6">
            En el mensaje puedes a√±adir: talla, color, nombre, promoci√≥n o evento.
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="contacto">
    <div class="container">
      <div class="section-head">
        <div>
          <h2>Contacto</h2>
          <p id="whatsText">üì≤ Cambia el n√∫mero en el c√≥digo: +50496955492</p>
        </div>
      </div>

      <div class="card" style="padding:16px">
        <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between">
          <div class="quote-summary">
            <strong>¬øListo para cotizar?</strong>
            <span>Agrega cantidades y env√≠a tu lista por WhatsApp.</span>
          </div>
          <div class="quote-actions">
            <button class="btn primary" id="btnCotizarBottom">Cotizar</button>
            <button class="btn" id="btnReset">Reiniciar cantidades</button>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>

<!-- Barra fija de Cotizar (se ve en m√≥vil y PC) -->
<div class="quote-bar">
  <div class="container">
    <div class="quote-inner">
      <div class="quote-summary">
        <strong id="itemsCount">0 √≠tems</strong>
        <span id="itemsHint">Agrega cantidades para cotizar.</span>
      </div>
      <div class="quote-actions">
        <button class="btn primary" id="btnCotizarSticky">Cotizar</button>
        <button class="btn" id="btnCopyList">Copiar lista</button>
      </div>
    </div>
  </div>
</div>

<footer>
  <div class="container">
    <div class="footer-grid">
      <div>
        <div style="font-weight:900; color:var(--text); margin-bottom:6px;">Merchandising Oficial LFH</div>
        <div>¬© <span id="year"></span> Liceo Franco Hondure√±o.</div>
        <div class="mini" style="margin-top:8px;">
          *Sitio est√°tico promocional. Precios son editables y opcionales.
        </div>
      </div>
      <div class="footlinks">
        <a href="#catalogo">Cat√°logo</a>
        <a href="#faq">FAQ</a>
        <a href="#contacto">Contacto</a>
      </div>
    </div>
  </div>
</footer>

<!-- Modal -->
<div class="backdrop" id="backdrop" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" aria-label="Detalle de producto">
    <button class="x" id="closeModal" aria-label="Cerrar">‚úï</button>
    <div class="mimg"><img id="mimg" alt="Producto"></div>
    <div class="mcontent">
      <h3 id="mtitle"></h3>
      <p id="mdesc"></p>
      <div class="pill" id="mcat"></div>
      <div style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
        <div class="price" id="mprice"></div>
        <div class="mini" id="mnote"></div>
      </div>
      <div class="mbar">
        <button class="btn primary" id="mAddOne">+1 a mi lista</button>
        <button class="btn" id="mCopy">Copiar pedido</button>
      </div>
      <div class="mini" style="margin-top:12px; line-height:1.6">
        Tip: a√±ade talla/color/personalizaci√≥n en el mensaje de WhatsApp.
      </div>
    </div>
  </div>
</div>

<script>
  // ========= EDITA AQU√ç =========
  const WHATSAPP_NUMBER = "50496955492"; // <-- cambia esto (sin +)
  const DEFAULT_MSG_HEADER =
`Hola, quiero cotizar mercader√≠a oficial del Liceo Franco Hondure√±o.
Mi lista con cantidades es:`;
  const EXTRA_FIELDS =
`\n\nDetalles (opcional):
‚Ä¢ Talla/Color:
‚Ä¢ Personalizaci√≥n (nombre/promoci√≥n):
‚Ä¢ Entrega/Fecha:
Gracias.`;
  // ==============================

  const products = [
    { id:"gorra-azul", name:"Gorra LFH (bordada)", cat:"accesorios", desc:"Gorra ajustable azul marino, bordado frontal.", price:0, note:"Cotizar", img:"gorra.jpeg", badge:"M√°s vendido" },
    { id:"camisa-blanca", name:"Camisa LFH (blanca)", cat:"ropa", desc:"Camiseta algod√≥n, impresi√≥n premium. Tallas XS‚ÄìXXL.", price:0, note:"Cotizar", img:"camisa.jpeg", badge:"Nuevo" },
    { id:"campera", name:"Campera / Jacket LFH", cat:"ropa", desc:"Campera con cierre. Logo en pecho (bordado).", price:0, note:"Cotizar", img:"campera.jpeg", badge:"Top" },
    { id:"termo", name:"Termo acero LFH", cat:"bebidas", desc:"Termo t√©rmico. Opci√≥n de grabado con nombre.", price:0, note:"Personalizable", img:"termo.jpeg", badge:"Personalizable" },
    { id:"taza", name:"Taza cer√°mica LFH", cat:"bebidas", desc:"Taza blanca con logo. Perfecta para regalo.", price:0, note:"Cotizar", img:"taza.jpeg", badge:"Regalo" },
    { id:"boligrafo", name:"Bol√≠grafo LFH", cat:"oficina", desc:"Bol√≠grafo premium con logo. Ideal para eventos.", price:0, note:"Volumen", img:"lapiz.jpeg", badge:"Eventos" },
    { id:"amansa-locos", name:"Amansa locos (antiestr√©s) LFH", cat:"accesorios", desc:"Stress ball con branding LFH. Ideal para kits.", price:0, note:"Cotizar", img:"llavero.jpeg", badge:"Kit" },
    { id:"tumbler", name:"Vaso t√©rmico (tumbler) LFH", cat:"bebidas", desc:"Vaso t√©rmico con tapa. Para fr√≠o o caliente.", price:0, note:"Cotizar", img:"vaso.jpeg", badge:"Popular" },
  ];

  const qty = Object.fromEntries(products.map(p=>[p.id, 0]));

  // Helpers
  const $ = (q)=>document.querySelector(q);
  const $$ = (q)=>document.querySelectorAll(q);

  function money(n){
    if(!n) return "Cotizar";
    return "L " + n.toLocaleString("es-HN");
  }
  function waLink(text){
    const msg = encodeURIComponent(text);
    return `https://wa.me/${WHATSAPP_NUMBER}?text=${msg}`;
  }
  function currentListLines(){
    const lines = products
      .filter(p => qty[p.id] > 0)
      .map(p => `- ${p.name}: ${qty[p.id]}`);
    return lines;
  }
  function buildQuoteMessage(){
    const lines = currentListLines();
    if(lines.length === 0){
      return `${DEFAULT_MSG_HEADER}\n- (Sin productos a√∫n)\n\n¬øMe env√≠as cat√°logo y precios? Gracias.`;
    }
    return `${DEFAULT_MSG_HEADER}\n${lines.join("\n")}${EXTRA_FIELDS}`;
  }
  function updateSticky(){
    const totalItems = Object.values(qty).reduce((a,b)=>a+b,0);
    $("#itemsCount").textContent = `${totalItems} √≠tems`;
    $("#itemsHint").textContent = totalItems ? "Presiona Cotizar para enviar tu lista." : "Agrega cantidades para cotizar.";
  }

  // Catalog state
  const grid = $("#grid");
  const search = $("#search");
  const sort = $("#sort");
  let activeCat = "todos";

  function getFiltered(){
    const q = (search.value || "").trim().toLowerCase();
    let list = products.filter(p=>{
      const catOk = (activeCat==="todos") || (p.cat===activeCat);
      const qOk = !q || (p.name.toLowerCase().includes(q) || p.desc.toLowerCase().includes(q));
      return catOk && qOk;
    });

    const s = sort.value;
    if(s==="precio_asc") list.sort((a,b)=>(a.price||999999)-(b.price||999999));
    else if(s==="precio_desc") list.sort((a,b)=>(b.price||0)-(a.price||0));
    return list;
  }

  function render(){
    const list = getFiltered();
    grid.innerHTML = list.map(p=>`
      <article class="p">
        <div class="img">
          <span class="tag">${p.badge || "LFH"}</span>
          <img src="${p.img}" alt="${p.name}" onerror="this.style.display='none'">
        </div>
        <div class="body">
          <div class="title">${p.name}</div>
          <div class="desc">${p.desc}</div>

          <div class="row">
            <div>
              <div class="price">${money(p.price)}</div>
              <div class="mini">${p.note || ""}</div>
            </div>

            <div style="display:flex; flex-direction:column; gap:8px; align-items:flex-end;">
              <div class="qty" aria-label="Cantidad">
                <button type="button" onclick="decQty('${p.id}')">‚àí</button>
                <span id="q-${p.id}">${qty[p.id]}</span>
                <button type="button" onclick="incQty('${p.id}')">+</button>
              </div>
              <div style="display:flex; gap:8px;">
                <button class="btn sm" onclick="openModal('${p.id}')">Ver</button>
              </div>
            </div>
          </div>
        </div>
      </article>
    `).join("");
    updateSticky();
  }

  // Qty functions (global for inline onclick)
  window.incQty = function(id){
    qty[id] = Math.min(999, (qty[id]||0) + 1);
    const el = document.getElementById(`q-${id}`);
    if(el) el.textContent = qty[id];
    updateSticky();
  }
  window.decQty = function(id){
    qty[id] = Math.max(0, (qty[id]||0) - 1);
    const el = document.getElementById(`q-${id}`);
    if(el) el.textContent = qty[id];
    updateSticky();
  }

  // Chips
  $$(".chip").forEach(ch=>{
    ch.addEventListener("click", ()=>{
      $$(".chip").forEach(x=>x.classList.remove("active"));
      ch.classList.add("active");
      activeCat = ch.dataset.cat;
      render();
    });
  });
  search.addEventListener("input", render);
  sort.addEventListener("change", render);

  // Modal
  const backdrop = $("#backdrop");
  const mimg = $("#mimg");
  const mtitle = $("#mtitle");
  const mdesc = $("#mdesc");
  const mcat = $("#mcat");
  const mprice = $("#mprice");
  const mnote = $("#mnote");
  let currentModalId = null;

  window.openModal = function(id){
    const p = products.find(x=>x.id===id);
    if(!p) return;
    currentModalId = id;
    mimg.src = p.img;
    mtitle.textContent = p.name;
    mdesc.textContent = p.desc;
    mcat.textContent = "Categor√≠a: " + p.cat;
    mprice.textContent = money(p.price);
    mnote.textContent = p.note || "";
    backdrop.style.display = "flex";
    backdrop.setAttribute("aria-hidden","false");
  }

  function closeModal(){
    backdrop.style.display = "none";
    backdrop.setAttribute("aria-hidden","true");
  }
  $("#closeModal").addEventListener("click", closeModal);
  backdrop.addEventListener("click", (e)=>{ if(e.target===backdrop) closeModal(); });
  window.addEventListener("keydown", (e)=>{ if(e.key==="Escape") closeModal(); });

  $("#mAddOne").addEventListener("click", ()=>{
    if(!currentModalId) return;
    window.incQty(currentModalId);
  });
  $("#mCopy").addEventListener("click", ()=>{
    copyText(buildQuoteMessage());
  });

  // Cotizar (WhatsApp con lista + cantidades)
  function cotizar(){
    const msg = buildQuoteMessage();
    window.open(waLink(msg), "_blank", "noopener");
  }
  $("#btnCotizarTop").addEventListener("click", cotizar);
  $("#btnCotizarHero").addEventListener("click", cotizar);
  $("#btnCotizarBottom").addEventListener("click", cotizar);
  $("#btnCotizarSticky").addEventListener("click", cotizar);

  // Copy
  function copyText(t){
    navigator.clipboard.writeText(t).then(()=>alert("Lista copiada ‚úÖ"))
      .catch(()=>alert("No se pudo copiar. Copia manualmente el texto."));
  }
  $("#btnCopyList").addEventListener("click", ()=>copyText(buildQuoteMessage()));

  // Reset
  $("#btnReset").addEventListener("click", ()=>{
    products.forEach(p=>qty[p.id]=0);
    render();
  });

  // Info text + year
  $("#whatsText").textContent = `üì≤ WhatsApp de pedidos: +${WHATSAPP_NUMBER} (ed√≠talo en el c√≥digo)`;
  $("#year").textContent = new Date().getFullYear();

  // Init
  render();
</script>
</body>
</html>
